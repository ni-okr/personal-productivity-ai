# üìä –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Allure –æ—Ç—á–µ—Ç–∞–º

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ Allure?

Allure - —ç—Ç–æ –º–æ—â–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä–∞—Å–∏–≤—ã—Ö –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö HTML –æ—Ç—á–µ—Ç–æ–≤ Playwright, Allure –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- üìà **–î–µ—Ç–∞–ª—å–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É** - –≥—Ä–∞—Ñ–∏–∫–∏, —Ç—Ä–µ–Ω–¥—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üîç **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –ø–æ Epic/Feature/Story** - –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤  
- üìé **–í–ª–æ–∂–µ–Ω–∏—è** - —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –≤–∏–¥–µ–æ, –ª–æ–≥–∏, JSON –¥–∞–Ω–Ω—ã–µ
- üè∑Ô∏è **–¢–µ–≥–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** - —É–¥–æ–±–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫
- ‚è±Ô∏è **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏** - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
- üîÑ **–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—É—Å–∫–æ–≤** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å Allure
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ E2E —Ç–µ—Å—Ç—ã —Å Allure
npm run test:e2e:allure

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
npx playwright test tests/e2e/allure-demo.spec.ts --reporter=allure-playwright

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ Chrome —Ç–µ—Å—Ç—ã
npx playwright test --project=chromium --reporter=allure-playwright
```

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞
```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
npm run allure:generate

# –û—Ç–∫—Ä—ã—Ç—å –æ—Ç—á–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
npm run allure:open

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
npm run allure:serve

# –í—Å–µ –≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ
npm run test:allure
```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Allure –æ—Ç—á–µ—Ç–∞

### üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Overview)
- **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - —Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–æ/—É–ø–∞–ª–æ
- **–ì—Ä–∞—Ñ–∏–∫–∏** - –∫—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- **–¢—Ä–µ–Ω–¥—ã** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- **–û–∫—Ä—É–∂–µ–Ω–∏–µ** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ

### üìä –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (Categories)  
- **üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ—Ñ–µ–∫—Ç—ã** - –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ—à–∏–±–∫–∏
- **üü° –ü—Ä–æ–±–ª–µ–º—ã UI/UX** - –ø—Ä–æ–±–ª–µ–º—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **üîµ –ü—Ä–æ–±–ª–µ–º—ã —Å–µ—Ç–∏** - –æ—à–∏–±–∫–∏ API –∏ —Å–µ—Ç–∏
- **üü£ –¢–∞–π–º–∞—É—Ç—ã** - –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è
- **üü† –ü—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - –æ—à–∏–±–∫–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### üóÇÔ∏è –ù–∞–±–æ—Ä—ã —Ç–µ—Å—Ç–æ–≤ (Suites)
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∞–π–ª–∞–º —Ç–µ—Å—Ç–æ–≤
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–µ—Å—Ç—É
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —Å—Ç–∞—Ç—É—Å

### üìà –ì—Ä–∞—Ñ–∏–∫–∏ (Graphs)
- **Status** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- **Severity** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏  
- **Duration** - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- **Timeline** - –≤—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üè∑Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π

### –ë–∞–∑–æ–≤—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
```typescript
import { allure } from 'allure-playwright'

test('–ú–æ–π —Ç–µ—Å—Ç', async ({ page }) => {
    // –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    await allure.epic('–ú–æ–¥—É–ª—å —Å–∏—Å—Ç–µ–º—ã')           // –í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å
    await allure.feature('–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è')    // –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å  
    await allure.story('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è') // –ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å
    
    // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    await allure.severity('critical')              // critical, normal, minor, trivial
    await allure.description('–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞')
    await allure.tag('api', 'smoke', 'regression') // –¢–µ–≥–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    
    // –®–∞–≥–∏
    await allure.step('–û–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–∞', async () => {
        // –ö–æ–¥ —à–∞–≥–∞
    })
})
```

### –í–ª–æ–∂–µ–Ω–∏—è (Attachments)
```typescript
// –°–∫—Ä–∏–Ω—à–æ—Ç
const screenshot = await page.screenshot()
await allure.attachment('–°–∫—Ä–∏–Ω—à–æ—Ç', screenshot, 'image/png')

// JSON –¥–∞–Ω–Ω—ã–µ
const data = { user: 'test', status: 'active' }
await allure.attachment('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', JSON.stringify(data, null, 2), 'application/json')

// –¢–µ–∫—Å—Ç
await allure.attachment('–õ–æ–≥ –æ—à–∏–±–∫–∏', errorMessage, 'text/plain')

// HTML
await allure.attachment('HTML –∫–æ–¥', htmlContent, 'text/html')
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
personal-productivity-ai-clean/
‚îú‚îÄ‚îÄ tests/e2e/
‚îÇ   ‚îú‚îÄ‚îÄ allure-demo.spec.ts      # –î–µ–º–æ —Ç–µ—Å—Ç—ã –¥–ª—è Allure
‚îÇ   ‚îú‚îÄ‚îÄ landing-page.spec.ts     # –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å Allure –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ pwa-installation.spec.ts # PWA —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ allure-results/              # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ allure-report/               # HTML –æ—Ç—á–µ—Ç (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ allure.config.js             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Allure
‚îî‚îÄ‚îÄ playwright.config.ts         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Playwright —Å Allure
```

## üé® –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –¢–µ—Å—Ç API —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —à–∞–≥–∞–º–∏
```typescript
test('API –ø–æ–¥–ø–∏—Å–∫–∞', async ({ page }) => {
    await allure.epic('API')
    await allure.feature('–ü–æ–¥–ø–∏—Å–∫–∏')
    await allure.story('–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏')
    await allure.severity('critical')
    
    await allure.step('–û—Ç–ø—Ä–∞–≤–ª—è–µ–º POST –∑–∞–ø—Ä–æ—Å', async () => {
        const response = await page.request.post('/api/subscribe', {
            data: { email: 'test@example.com' }
        })
        await allure.attachment('Request', JSON.stringify({email: 'test@example.com'}), 'application/json')
        await allure.attachment('Response', await response.text(), 'application/json')
    })
})
```

### 2. UI —Ç–µ—Å—Ç —Å —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏
```typescript
test('–§–æ—Ä–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏', async ({ page }) => {
    await allure.epic('UI')
    await allure.feature('–§–æ—Ä–º—ã')
    await allure.story('–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è')
    
    await allure.step('–û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É', async () => {
        await page.goto('/')
        const screenshot = await page.screenshot()
        await allure.attachment('–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞', screenshot, 'image/png')
    })
    
    await allure.step('–ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É', async () => {
        await page.fill('input[type="email"]', 'test@example.com')
        const formScreenshot = await page.locator('form').screenshot()
        await allure.attachment('–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞', formScreenshot, 'image/png')
    })
})
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD

### GitHub Actions
```yaml
- name: Run E2E tests with Allure
  run: npm run test:e2e:allure

- name: Generate Allure report
  run: npm run allure:generate

- name: Upload Allure report
  uses: actions/upload-artifact@v3
  with:
    name: allure-report
    path: allure-report/
```

## üìä –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å:
1. **Overview** - –æ–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
2. **Categories** - —Ç–∏–ø—ã –ø—Ä–æ–±–ª–µ–º
3. **Timeline** - —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
4. **Failed tests** - –¥–µ—Ç–∞–ª–∏ —É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤

### –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:
- –ü–æ —Å—Ç–∞—Ç—É—Å—É: `status:failed`
- –ü–æ —Ç–µ–≥–∞–º: `tag:critical`
- –ü–æ –≤—Ä–µ–º–µ–Ω–∏: `duration:>5s`
- –ü–æ Epic: `epic:"Email –ø–æ–¥–ø–∏—Å–∫–∞"`

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Allure –Ω–∞–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –æ—Ç—á–µ—Ç–∞–º–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Playwright HTML | Allure |
|----------|----------------|---------|
| üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ | –ë–∞–∑–æ–≤–∞—è | –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è |
| üè∑Ô∏è –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ | –ü–æ —Ñ–∞–π–ª–∞–º | Epic/Feature/Story |
| üìé –í–ª–æ–∂–µ–Ω–∏—è | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ | –õ—é–±—ã–µ —Ç–∏–ø—ã |
| üìà –¢—Ä–µ–Ω–¥—ã | –ù–µ—Ç | –ï—Å—Ç—å |
| üîç –ü–æ–∏—Å–∫ | –ü—Ä–æ—Å—Ç–æ–π | –ú–æ—â–Ω—ã–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ |
| üé® –í–Ω–µ—à–Ω–∏–π –≤–∏–¥ | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π | –ö—Ä–∞—Å–∏–≤—ã–π –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π |

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ Allure –æ—Ç—á–µ—Ç–æ–≤. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run test:allure` –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –∫—Ä–∞—Å–∏–≤—ã–º–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ –æ—Ç—á–µ—Ç–∞–º–∏! 

**Allure —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞**: http://localhost:45729 (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –∫–æ–Ω—Å–æ–ª–∏)
